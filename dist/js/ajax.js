"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function sendAjax(t){if(t.dataType||(t.dataType="json"),"xml"!==t.dataType.toLowerCase()&&"json"!==t.dataType&&"string"!==t.dataType)throw new Error("dataType必须是xml或string或json");if(t.method||(t.method="get"),"get"!==t.method.toLowerCase()&&"post"!==t.method.toLowerCase())throw new Error("请求方式必须是get或post");if(!t.url)throw new Error("地址必填");if("string"!=typeof t.url)throw new Error("请传入正确的地址");if(void 0===t.async&&(t.async=!0),"boolean"!=typeof t.async)throw new Error("async参数必须是布尔值");var e="";if(t.data){if("object"===_typeof(t.data)){if(t.data){var o="";for(var r in t.data)e+=o+r+"="+t.data[r],o="&"}}else{if("string"!=typeof t.data)throw new Error("数据必须是对象或字符串");e=t.data}"get"===t.method.toLowerCase()&&(t.url+="?"+e)}if(t.success||(t.success=function(){}),t.error||(t.error=function(){}),"function"!=typeof t.success)throw new Error("success必须是函数");if("function"!=typeof t.error)throw new Error("error必须是函数");var a=new XMLHttpRequest;if(a.onreadystatechange=function(){if(4===a.readyState)if(/^2\d{2}$/.test(a.status)){var e="";switch(t.dataType.toLowerCase()){case"string":e=a.responseText;break;case"json":e=a.responseText,e=JSON.parse(e);break;case"xml":e=a.responseXML}t.success(e)}else t.error()},a.open(t.method,t.url,t.async),t.data&&"post"===t.method.toLowerCase())return a.setRequestHeader("content-type","application/x-www-form-urlencoded"),a.send(e),!1;a.send()}function promiseAjax(n){return new Promise(function(t,o){if(n.dataType||(n.dataType="json"),"xml"!==n.dataType.toLowerCase()&&"json"!==n.dataType&&"string"!==n.dataType)throw new Error("dataType必须是xml或string或json");if(n.method||(n.method="get"),"get"!==n.method.toLowerCase()&&"post"!==n.method.toLowerCase())throw new Error("请求方式必须是get或post");if(!n.url)throw new Error("地址必填");if("string"!=typeof n.url)throw new Error("请传入正确的地址");if(void 0===n.async&&(n.async=!0),"boolean"!=typeof n.async)throw new Error("async参数必须是布尔值");var e="";if(n.data){if("object"===_typeof(n.data)){if(n.data){var r="";for(var a in n.data)e+=r+a+"="+n.data[a],r="&"}}else{if("string"!=typeof n.data)throw new Error("数据必须是对象或字符串");e=n.data}"get"===n.method.toLowerCase()&&(n.url+="?"+e)}var s=new XMLHttpRequest;if(s.onreadystatechange=function(){if(4===s.readyState)if(/^2\d{2}$/.test(s.status)){var e="";switch(n.dataType.toLowerCase()){case"string":e=s.responseText;break;case"json":e=s.responseText,e=JSON.parse(e);break;case"xml":e=s.responseXML}t(e)}else o()},s.open(n.method,n.url,n.async),n.data&&"post"===n.method.toLowerCase())return s.setRequestHeader("content-type","application/x-www-form-urlencoded"),s.send(e),!1;s.send()})}